{"remainingRequest":"E:\\fate\\federal-study-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\fate\\federal-study-vue\\node_modules\\@bairong\\jax-core\\src\\components\\ThemeSwitch\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\fate\\federal-study-vue\\node_modules\\@bairong\\jax-core\\src\\components\\ThemeSwitch\\index.vue","mtime":499162500000},{"path":"E:\\fate\\federal-study-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\fate\\federal-study-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\fate\\federal-study-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\fate\\federal-study-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Cookies from 'js-cookie';\nexport default {\n  name: 'themeSwitch',\n  data () {\n    return {\n      themeList: {\n        menu: [\n          {\n            name: 'dark',\n            color: '#090F1C'\n          },\n          {\n            name: 'light',\n            color: '#F5F5F5'\n          }\n        ],\n        element: [\n          {\n            name: 'dodgerBlue',\n            color: '#2A80EA'\n          },\n          {\n            name: 'turquoise',\n            color: '#2ABEBD'\n          },\n          {\n            name: 'slateBlue',\n            color: '#5D55FF'\n          }\n        ]\n      },\n      mainTheme: 'dodgerBlue',\n      menuTheme: 'dark'\n    };\n  },\n  methods: {\n    /**\n       * 可以定制皮肤和颜色，目前只换肤\n       * @param themeFile\n       */\n    setTheme (themeFile) {\n      this.$Spin.show();\n      setTimeout(() => {\n        this.$Spin.hide();\n      }, 1000);\n      this.mainTheme = themeFile;\n      let themeLink = document.querySelector('link[name=\"theme\"]');\n      let userName = this.$store.state.user.userName || '';\n      localStorage.theme = JSON.stringify([{\n        userName: userName,\n        mainTheme: this.mainTheme,\n        menuTheme: this.menuTheme\n      }]);\n      let stylePath = 'theme/';\n      let path = stylePath + themeFile + '.css';\n      setTimeout(() => {\n        themeLink.setAttribute('href', path);\n      }, 500);\n      document.querySelector('body').className = this.mainTheme;\n    },\n    setMenu (themeName) {\n      this.menuTheme = themeName;\n      this.$store.commit('changeMenuTheme', themeName);\n      let userName = this.$store.state.user.userName || '';\n      localStorage.theme = JSON.stringify([{\n        userName: userName,\n        mainTheme: this.mainTheme,\n        menuTheme: this.menuTheme\n      }]);\n    }\n  },\n  created () {\n    if (localStorage.theme) {\n      JSON.parse(localStorage.theme).some(item => {\n        this.menuTheme = item.menuTheme;\n        this.mainTheme = item.mainTheme;\n        this.$store.commit('changeMenuTheme', item.menuTheme);\n        this.$store.commit('changeMainTheme', item.mainTheme);\n      });\n\n    } else {\n      this.$store.commit('changeMenuTheme', 'dark');\n      this.$store.commit('changeMainTheme', 'dodgerBlue');\n    }\n    // 根据用户设置主题\n    let stylePath = './theme/';\n    let mainTheme = this.$store.state.app.mainTheme || this.mainTheme;\n    let stylesheetPath = stylePath + mainTheme + '.css';\n    let themeLink = document.querySelector('link[name=\"theme\"]');\n    themeLink.setAttribute('href', stylesheetPath);\n  },\n  mounted () {\n    document.querySelector('body').className = this.mainTheme;\n  }\n};\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@bairong/jax-core/src/components/ThemeSwitch","sourcesContent":["<template>\n  <div class=\"theme-wrap\">\n    <Poptip trigger=\"click\" :transfer='false' width=\"100\">\n      <Tooltip transfer :content=\"'换肤'\" placement=\"top\">\n        <a href=\"javascript:void(0)\">\n          <Icon :style=\"{marginTop: '-2px', verticalAlign: 'middle'}\" color=\"#fff\" :size=\"22\" custom=\"br-icon br-icon-theme\"></Icon>\n  <!--        <Icon :size=\"18\" color=\"#fff\" type=\"md-arrow-dropdown\"></Icon>-->\n        </a>\n      </Tooltip>\n      <div slot=\"content\" :style=\"'min-width: 56px;overflow: hidden;'\">\n          <div class=\"display-block m-b-1 text-center\">\n            <span style=\"margin-right:10px;\">主题</span>\n            <span >菜单</span>\n          </div>\n          <Row type=\"flex\" justify=\"center\" align=\"top\" class=\"text-center\">\n          <Col span=\"12\">\n            <div v-for=\"(item, index) in themeList.element\" :key=\"index\" :name=\"item.name\" @click=\"setTheme(item.name)\" >\n              <span v-if=\"mainTheme!==item.name\" class=\"display-inline-block m-b-1 circle\" :style=\"'background-color:'+item.color\"></span>\n              <Icon v-if=\"mainTheme===item.name\" :size=\"24\" class=\"m-b-1\" type=\"ios-checkmark-circle\" :color=\"item.color\"/>\n            </div>\n          </Col>\n          <Col span=\"12\">\n            <div v-for=\"(item, index) in themeList.menu\" :key=\"index\" :name=\"item.name\" @click=\"setMenu(item.name)\" >\n              <span v-if=\"menuTheme!==item.name\" class=\"display-inline-block m-b-1 circle\" :style=\"'background-color:'+item.color\"></span>\n              <Icon v-if=\"menuTheme===item.name\" :size=\"24\" class=\"m-b-1\" type=\"ios-checkmark-circle\" :color=\"item.color\"/>\n            </div>\n          </Col>\n          </Row>\n      </div>\n    </Poptip>\n  </div>\n</template>\n\n<script>\nimport Cookies from 'js-cookie';\nexport default {\n  name: 'themeSwitch',\n  data () {\n    return {\n      themeList: {\n        menu: [\n          {\n            name: 'dark',\n            color: '#090F1C'\n          },\n          {\n            name: 'light',\n            color: '#F5F5F5'\n          }\n        ],\n        element: [\n          {\n            name: 'dodgerBlue',\n            color: '#2A80EA'\n          },\n          {\n            name: 'turquoise',\n            color: '#2ABEBD'\n          },\n          {\n            name: 'slateBlue',\n            color: '#5D55FF'\n          }\n        ]\n      },\n      mainTheme: 'dodgerBlue',\n      menuTheme: 'dark'\n    };\n  },\n  methods: {\n    /**\n       * 可以定制皮肤和颜色，目前只换肤\n       * @param themeFile\n       */\n    setTheme (themeFile) {\n      this.$Spin.show();\n      setTimeout(() => {\n        this.$Spin.hide();\n      }, 1000);\n      this.mainTheme = themeFile;\n      let themeLink = document.querySelector('link[name=\"theme\"]');\n      let userName = this.$store.state.user.userName || '';\n      localStorage.theme = JSON.stringify([{\n        userName: userName,\n        mainTheme: this.mainTheme,\n        menuTheme: this.menuTheme\n      }]);\n      let stylePath = 'theme/';\n      let path = stylePath + themeFile + '.css';\n      setTimeout(() => {\n        themeLink.setAttribute('href', path);\n      }, 500);\n      document.querySelector('body').className = this.mainTheme;\n    },\n    setMenu (themeName) {\n      this.menuTheme = themeName;\n      this.$store.commit('changeMenuTheme', themeName);\n      let userName = this.$store.state.user.userName || '';\n      localStorage.theme = JSON.stringify([{\n        userName: userName,\n        mainTheme: this.mainTheme,\n        menuTheme: this.menuTheme\n      }]);\n    }\n  },\n  created () {\n    if (localStorage.theme) {\n      JSON.parse(localStorage.theme).some(item => {\n        this.menuTheme = item.menuTheme;\n        this.mainTheme = item.mainTheme;\n        this.$store.commit('changeMenuTheme', item.menuTheme);\n        this.$store.commit('changeMainTheme', item.mainTheme);\n      });\n\n    } else {\n      this.$store.commit('changeMenuTheme', 'dark');\n      this.$store.commit('changeMainTheme', 'dodgerBlue');\n    }\n    // 根据用户设置主题\n    let stylePath = './theme/';\n    let mainTheme = this.$store.state.app.mainTheme || this.mainTheme;\n    let stylesheetPath = stylePath + mainTheme + '.css';\n    let themeLink = document.querySelector('link[name=\"theme\"]');\n    themeLink.setAttribute('href', stylesheetPath);\n  },\n  mounted () {\n    document.querySelector('body').className = this.mainTheme;\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n  @import 'index.less';\n</style>\n<style lang=\"less\">\n  .theme-wrap {\n    .circle {\n      width: 20px;\n      height: 20px;\n      border-radius: 10px; /* 图形的半径 */\n      cursor: pointer;\n    }\n    .ivu-poptip-popper {\n      min-width: 100px !important;\n    }\n  }\n  .theme(@mainColor: #2A80EA) {\n    //@primary-color: @mainColor\n    .icon-theme-color,\n    .text-theme-color {\n      color: @mainColor;\n    }\n    .theme-main-color {\n      background: @mainColor;\n    }\n    .border-theme-color {\n      border: 1px solid @mainColor;\n    }\n    .border-them-shadow {\n      -webkit-box-shadow: 0 0 4px 0 @mainColor;\n      box-shadow: 0 0 4px 0 @mainColor;\n    }\n  }\n\n  .dodgerBlue {\n    .theme();//默认的样式\n  }\n\n  .turquoise {\n    .theme(#2ABEBD);\n  }\n\n  .slateBlue {\n    .theme(#5D55FF);\n  }\n</style>\n"]}]}