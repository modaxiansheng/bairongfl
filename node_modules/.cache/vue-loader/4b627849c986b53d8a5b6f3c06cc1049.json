{"remainingRequest":"E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\bairongfl\\src\\views\\studyTask\\StudyTask.vue?vue&type=style&index=0&id=6e25464e&lang=less&scoped=true&","dependencies":[{"path":"E:\\bairongfl\\src\\views\\studyTask\\StudyTask.vue","mtime":1590049043887},{"path":"E:\\bairongfl\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.study-task-page {\n  .ivu-tabs-bar {\n    margin-bottom: 30px;\n  }\n}\n.stmodelparams{\n  position: absolute;\n  top: 0px;\n  left: 500px;\n}\n",{"version":3,"sources":["StudyTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudyTask.vue","sourceRoot":"src/views/studyTask","sourcesContent":["<template>\n  <div class=\"router-body study-task-page\">\n    <div class=\"router-body-inner\">\n      <div style=\"position: relative\">\n      \n        <Form ref=\"taskForm\" :model=\"taskForm\" :label-width=\"100\" style=\"width: 400px;\">\n            <FormItem label=\"任务名称\" prop=\"pn\">\n              <Input v-model=\"projectname\" placeholder=\"请输入任务的名称\"></Input>\n            </FormItem>\n \n            <FormItem v-show=\"tabType === 'study'\" label=\"选择算法\" prop=\"model_type\">\n              <RadioGroup v-model=\"taskForm.model_type\" vertical>\n                <Radio label=\"Hetero Logistic Regression\"></Radio>\n                <Radio label=\"Hetero Secureboost\"></Radio>\n              </RadioGroup>\n            </FormItem>\n\n            <div class=\"stmodelparams\" v-if=\"taskForm.model_type=='Hetero Logistic Regression'\">\n                  <div class=\"modelparam\" >\n                      <FormItem label=\"正则化类型\" >\n                          <Select v-model=\"lrparampapa.lrreguvalue\">\n                            <Option v-for=\"item in lrparampapa.lrregu\" :value=\"item.value\" :key=\"item.label\">{{ item.label }}</Option>\n                          </Select>\n                      </FormItem>\n                  </div>\n                  <div class=\"modelparam\"  v-for=\"item in lrparampapa.lrparams\" :key=\"item.label\">\n                      <FormItem :label=\"item.label\" :key=\"item.label\">\n                            <Input v-model=\"item.value\" clearable style=\"width: 200px\"></Input>                      \n                      </FormItem>\t\n                  </div>\n                  \n            </div>\n            <div class=\"stmodelparams\" v-if=\"taskForm.model_type=='Hetero Secureboost'\">\n                  <div class=\"modelparam\"  v-for=\"item in xgboostparams\" :key=\"item.label\">\n                      <FormItem :label=\"item.label\" >\n                            <Input v-model=\"item.value\" clearable style=\"width: 200px\"></Input>                      \n                      </FormItem>\t\n                  </div>            \n            </div>\n            <FormItem label=\"\">\n                <Button type=\"primary\" :loading=\"btnLoading\" @click=\"modal1 = true\">提交{{tabType === 'study' ? '训练' : '预测'}}任务</Button>\n                <Modal\n                  v-model=\"modal1\"\n                  title=\"您确定要提交训练任务吗？\"\n                  @on-ok=\"ok\"\n                  @on-cancel=\"cancel\">\n                  <p>点击取消按钮就不会提交了</p>\n                  <p>点击确定按钮就会提交了</p>\n                </Modal>\n            </FormItem>\n        </Form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport http from '@/utils/http';\nimport { taskForm } from '@/store/module/studyTask';\nexport default {\n  name: 'StudyTask',\n  data () {\n    return {\n      modal1: false,\n      projectname:\"\",\n      btnLoading: false,\n      lrparampapa:{\n        lrreguvalue:\"L1\",\n        lrregu:[\n          {label:\"L1\",value:\"L1\"},\n          {label:\"L2\",value:\"L2\"},\n        ],\n        lrparams:[   \n          {label:\"最大迭代次数\",value:1000},\n          {label:\"收敛阈值\",value:0.00001},\n          {label:\"学习率\",value:0.01},\n          {label:\"正则化惩罚系数\",value:2},\n          {label:\"训练集比例\",value:0.8},  \n        ]\n\n      },\n      xgboostparams:[\n        {label:\"树数\",value:100},\n        {label:\"学习率\",value:0.01},\n        {label:\"最小分裂增益\",value:0.001},\n        {label:\"特征采样比例\",value:0.8},\n        {label:\"正则化系数\",value:0.5},\n        {label:\"分箱数\t\",value:32},\n        {label:\"可分裂节点最小样本数\t\",value:2},\n        {label:\"训练集比例\t\",value:0.8},\n      ],\n      tabType: 'study',\n\n      taskForm,\n      \n      StudyTask:[]\n    };\n  },\n  methods: {\n      ok () {\n          this.$Message.info('Clicked ok');\n          this.handleSubmit()\n      },\n      cancel () {\n          this.$Message.info('Clicked cancel');\n      },\n     createHttp () {  \n          var params={\"name\": this.common.studyTask[0], \"role\": \"guest\", \"task\": \"train\", \"data\": {\"start\": this.common.studyTask[2].SampleFetchingtime, \"n\":  Number(this.common.studyTask[2].dataperiod), \"match\": this.common.studyTask[2].datatype!=\"用户特征早一个周期取数\", \"path_host\": this.common.studyTask[2].hostselectedvalue, \"path_guest\": this.common.studyTask[2].guestselectedvalue}, \"modules\": {\"DataIO_host\": {\"missing_fill\": [ this.common.studyTask[3][0][1].value==\"缺失值填充\"], \"missing_fill_method\": [\"mean\"]}, \"HeteroFeatureBinning_host\": {\"method\": [\"quantile\"], \"bin_num\": [5]}, \"HeteroLR\": {\"max_iter\": 5, \"cv_param\": {\"n_splits\": 5, \"need_cv\": false}}}}\n          console.log(params)\n\t\t\t    return   http.post(\"Submit\",params)\n\t\t},\n    handleSubmit () {\n      // console.log(this.common.safeintersection)\n      this.common.studyTask=[]\n      this.common.studyTask.push(this.projectname,this.taskForm.model_type=='Hetero Secureboost'?this.xgboostparams:this.lrparampapa,this.common.safeintersection,this.common.feshow)\n      console.log(this.common.studyTask)\n      console.log(this.common.studyTask[0])\n      Promise.all([this.createHttp()]).then(resList => {\n          console.log(resList)\n      });\n     \n\n\n\n\n\n\n\n\n\n\n      // setTimeout(() => {\n      //   this.$refs.taskForm.validate(bool => {\n      //     if (!bool) {\n      //       return false;\n      //     }\n      //     this.btnLoading = true;\n      //     const params = {\n      //       data: {\n      //         host: this.taskForm.host,\n      //         guest: this.taskForm.guest \n      //       }\n      //     };\n      //   });\n      // }, 10);\n    },\n \n  },\n\n};\n\n</script>\n\n<style lang=\"less\" scoped>\n.study-task-page {\n  .ivu-tabs-bar {\n    margin-bottom: 30px;\n  }\n}\n.stmodelparams{\n  position: absolute;\n  top: 0px;\n  left: 500px;\n}\n</style>\n"]}]}