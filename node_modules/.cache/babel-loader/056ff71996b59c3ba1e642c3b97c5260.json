{"remainingRequest":"E:\\bairongfl\\node_modules\\babel-loader\\lib\\index.js!E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\bairongfl\\src\\views\\updataPage\\UpdataPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\bairongfl\\src\\views\\updataPage\\UpdataPage.vue","mtime":1589016553782},{"path":"E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  mounted: function mounted() {\n    this.getForumData();\n  },\n  methods: {\n    /**\n     * 删除数据分类数据\n     */\n    deleteForum: function deleteForum() {\n      var _this = this;\n\n      this.delete_loading = true;\n      var url = this.ServerIp + this.API.forumDeleteCategory;\n      var that = this;\n      var params = {};\n      params.fc_id = this.$route.query.fc_id;\n      this.$http({\n        method: 'post',\n        url: url,\n        data: params\n      }).then(function (res) {\n        _this.delete_loading = false;\n        _this.deleteModel = false;\n\n        if (res.data.success) {\n          that.$router.go(-1);\n        } else {\n          that.$Message.error(res.data.result);\n        }\n      });\n    },\n\n    /**\n     * 数据上传\n     */\n    doUpload: function doUpload(files) {\n      var that = this;\n      this.uploadOneImage(files, function (err, data) {\n        if (err) {\n          that.formItem.fc_icon = data.url;\n          that.organizationLogoIsShow = true;\n        } else {\n          alert(\"数据上传失败\");\n        }\n      });\n    },\n    handleDelete: function handleDelete() {\n      this.deleteModel = true;\n    },\n\n    /**\n     * 提交数据\n     */\n    submit: function submit(name) {\n      var _this2 = this;\n\n      this.$refs[name].validate(function (valid) {\n        if (valid) {\n          var url = _this2.ServerIp + _this2.API.forumUpdateCategory;\n          var that = _this2;\n          var params = {};\n          params.fc_id = _this2.$route.query.fc_id;\n          params.fc_name = _this2.formItem.fc_name;\n          params.fc_desc = _this2.formItem.fc_desc;\n          params.fc_icon = _this2.formItem.fc_icon;\n          _this2.submit_loading = true;\n\n          _this2.$http({\n            method: 'post',\n            url: url,\n            data: params\n          }).then(function (res) {\n            _this2.submit_loading = false;\n\n            if (res.data.success) {\n              that.$Message.success('数据更新成功');\n              that.$router.go(-1);\n            } else {\n              that.$Message.error(res.data.result);\n            }\n          });\n        }\n      });\n    },\n\n    /**\n     * 获取数据\n     */\n    getForumData: function getForumData() {\n      var _this3 = this;\n\n      var url = this.ServerIp + this.API.forumsSearchCategory + \"/fc_id/\" + this.$route.query.fc_id;\n      var that = this;\n      this.$Spin.show();\n      this.$http({\n        method: 'get',\n        url: url\n      }).then(function (res) {\n        _this3.$Spin.hide();\n\n        if (res.data.success) {\n          var forumData = res.data.result.data[0];\n          that.formItem.fc_name = forumData.fc_name;\n          that.formItem.fc_desc = forumData.fc_desc;\n          that.formItem.fc_icon = forumData.fc_icon;\n\n          if (that.formItem.fc_name != null && that.formItem.fc_name) {\n            that.categoryLogoIsShow = true;\n          } else {\n            that.categoryLogoIsShow = false;\n          }\n        }\n      });\n    }\n  },\n  data: function data() {\n    return {\n      deleteModel: false,\n      submit_loading: false,\n      delete_loading: false,\n      formItem: {\n        fc_name: \"\",\n        fc_icon: \"\",\n        fc_order: \"\",\n        fc_desc: \"\",\n        fc_article_count: \"\",\n        fc_concern_count: \"\"\n      },\n      data: [],\n      categoryLogoIsShow: false,\n      ruleInline: {\n        fc_name: [{\n          required: true,\n          message: '数据标题不能为空',\n          trigger: 'blur'\n        }],\n        fc_icon: [{\n          required: true,\n          message: '数据不能为空',\n          trigger: 'blur'\n        }],\n        fc_desc: [{\n          required: true,\n          message: '数据分类描述不能为空',\n          trigger: 'blur'\n        }]\n      }\n    };\n  }\n};",{"version":3,"sources":["UpdataPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n \n        <Form :model=\"formItem\" ref=\"formItem\" :rules=\"ruleInline\" :label-width=\"100\" lable-position=\"left\">\n \n            <FormItem label=\"数据名称 : \" prop=\"fc_name\" width=\"260\">\n                <Input v-model=\"formItem.fc_name\" placeholder=\"请输入数据名称\" class=\"input_width\"></Input>\n            </FormItem>\n \n \n            <FormItem label=\"数据描述 : \" prop=\"fc_desc\">\n                <Input v-model=\"formItem.fc_desc\" type=\"textarea\" :rows=\"4\" style=\"width:400px;\"\n                       placeholder=\"请输入数据描述\"></Input>\n            </FormItem>\n \n            <FormItem label=\"数据: \">\n                <div class=\"uploadBox\" prop=\"fc_icon\">\n                    <input type=\"file\" @change=\"doUpload\" ref=\"inputFile\"/>\n                    <Icon type=\"ios-plus-empty\" class=\"uploadIcon\"></Icon>\n \n                    <div class=\"imagePreview\" v-show=\"categoryLogoIsShow\">\n                        <img :src=\"formItem.fc_icon\" @click=\"$refs.inputFile.click()\"/>\n                    </div>\n                </div>\n                <div v-show=\"categoryLogoIsShow\" style=\"text-align: left;\">\n                    <Icon type=\"information-circled\"></Icon>\n                    可点击数据重新选择\n                </div>\n \n            </FormItem>\n \n \n            <FormItem>\n                <Button type=\"primary\" size=\"large\" :loading=\"submit_loading\" @click=\"submit('formItem')\">提交</Button>\n                <Button type=\"error\" size=\"large\" @click=\"handleDelete\" style=\"margin-left: 8px;\">删除</Button>\n            </FormItem>\n \n        </Form>\n \n \n        <Modal v-model=\"deleteModel\" width=\"260\">\n            <p slot=\"header\" style=\"color:#f60;text-align:center\">\n                <Icon type=\"information-circled\"></Icon>\n                <span>删除确认</span>\n            </p>\n            <div style=\"text-align:center\">\n                <p>删除后数据不可恢复,确定要这么做吗?</p>\n            </div>\n            <div slot=\"footer\">\n                <Button type=\"error\" size=\"large\" long :loading=\"delete_loading\" @click=\"deleteForum\">确定删除</Button>\n            </div>\n        </Modal>\n             <Table :loading=\"loading\" :columns=\"columns\" :data=\"categorydata\"></Table>\n \n        <div style=\"margin-top:10px;overflow: hidden\">\n            <div style=\"float: right;\">\n                <Page :total=\"totalCount\" :current=\"1\" :page-size=\"pageSize\" @on-page-size-change=\"changePageSize\"\n                      @on-change=\"changePage\" show-total show-sizer></Page>\n \n            </div>\n        </div>\n\n \n    </div>\n</template>\n\n \n<script type=\"text/ecmascript-6\">\n \n    export default {\n        mounted() {\n \n            this.getForumData();\n \n        },\n        methods: {\n \n \n            /**\n             * 删除数据分类数据\n             */\n \n            deleteForum() {\n \n                this.delete_loading = true;\n \n                var url = this.ServerIp + this.API.forumDeleteCategory;\n                var that = this;\n \n                var params = {};\n                params.fc_id = this.$route.query.fc_id;\n \n                this.$http({\n                    method: 'post',\n                    url: url,\n                    data: params\n                }).then((res) => {\n \n                    this.delete_loading = false;\n                    this.deleteModel = false;\n \n                    if (res.data.success) {\n                        that.$router.go(-1);\n                    } else {\n                        that.$Message.error(res.data.result);\n                    }\n \n                });\n            },\n \n            /**\n             * 数据上传\n             */\n            doUpload(files) {\n                var that = this;\n                this.uploadOneImage(files, function (err, data) {\n                    if (err) {\n                        that.formItem.fc_icon = data.url;\n                        that.organizationLogoIsShow = true;\n                    } else {\n                        alert(\"数据上传失败\");\n                    }\n \n                });\n            },\n            handleDelete() {\n \n                this.deleteModel = true;\n \n            },\n \n            /**\n             * 提交数据\n             */\n            submit(name) {\n \n                this.$refs[name].validate((valid) => {\n \n                    if (valid) {\n \n                        var url = this.ServerIp + this.API.forumUpdateCategory;\n                        var that = this;\n \n                        var params = {};\n                        params.fc_id = this.$route.query.fc_id;\n                        params.fc_name = this.formItem.fc_name;\n                        params.fc_desc = this.formItem.fc_desc;\n                        params.fc_icon = this.formItem.fc_icon;\n \n                        this.submit_loading = true;\n                        this.$http({\n                            method: 'post',\n                            url: url,\n                            data: params\n                        }).then((res) => {\n \n                            this.submit_loading = false;\n \n                            if (res.data.success) {\n                                that.$Message.success('数据更新成功');\n                                that.$router.go(-1);\n \n                            } else {\n                                that.$Message.error(res.data.result);\n                            }\n \n                        });\n \n \n                    }\n \n                });\n \n \n            },\n \n            /**\n             * 获取数据\n             */\n            getForumData() {\n \n                var url = this.ServerIp + this.API.forumsSearchCategory + \"/fc_id/\" + this.$route.query.fc_id;\n                var that = this;\n \n                this.$Spin.show();\n                this.$http({\n                    method: 'get',\n                    url: url\n                }).then((res) => {\n \n \n                    this.$Spin.hide();\n                    if (res.data.success) {\n \n                        var forumData = res.data.result.data[0];\n                        that.formItem.fc_name = forumData.fc_name;\n                        that.formItem.fc_desc = forumData.fc_desc;\n                        that.formItem.fc_icon = forumData.fc_icon;\n                        if (that.formItem.fc_name != null && that.formItem.fc_name) {\n                            that.categoryLogoIsShow = true\n                        } else {\n                            that.categoryLogoIsShow = false\n \n                        }\n                    }\n \n                });\n \n \n            }\n \n        },\n        data() {\n            return {\n                deleteModel: false,\n                submit_loading: false,\n                delete_loading: false,\n                formItem: {\n                    fc_name: \"\",\n                    fc_icon: \"\",\n                    fc_order: \"\",\n                    fc_desc: \"\",\n                    fc_article_count: \"\",\n                    fc_concern_count: \"\",\n                },\n                data: [],\n                categoryLogoIsShow: false,\n                ruleInline: {\n                    fc_name: [\n                        {required: true, message: '数据标题不能为空', trigger: 'blur'},\n                    ],\n                    fc_icon: [\n                        {required: true, message: '数据不能为空', trigger: 'blur'},\n                    ],\n                    fc_desc: [\n                        {required: true, message: '数据分类描述不能为空', trigger: 'blur'},\n                    ]\n                }\n            }\n        }\n    }\n \n \n</script>\n\n<style scope>\n  .input_width{\n    width :500px;\n  }\n</style>"],"sourceRoot":"src/views/updataPage"}]}