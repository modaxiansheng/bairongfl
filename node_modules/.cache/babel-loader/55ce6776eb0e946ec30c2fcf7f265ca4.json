{"remainingRequest":"E:\\bairongfl\\node_modules\\thread-loader\\dist\\cjs.js!E:\\bairongfl\\node_modules\\babel-loader\\lib\\index.js!E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\bairongfl\\src\\views\\studyTask\\StudyTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\bairongfl\\src\\views\\studyTask\\StudyTask.vue","mtime":1592460803101},{"path":"E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport http from '@/utils/http';\nimport { taskForm } from '@/store/module/studyTask';\nexport default {\n  name: 'StudyTask',\n  data: function data() {\n    return {\n      modal1: false,\n      projectname: \"\",\n      btnLoading: false,\n      taskparamselectedCV: \"5\",\n      taskparamCV: [{\n        label: \"2\",\n        value: \"2\"\n      }, {\n        label: \"3\",\n        value: \"3\"\n      }, {\n        label: \"4\",\n        value: \"4\"\n      }, {\n        label: \"5\",\n        value: \"5\"\n      }],\n      taskparamselected: \"train\",\n      taskparam: [{\n        label: \"train\",\n        value: \"train\"\n      }, {\n        label: \"CV\",\n        value: \"CV\"\n      }],\n      lrparampapa: {\n        lrreguvalue: \"L1\",\n        lrregu: [{\n          label: \"L1\",\n          value: \"L1\"\n        }, {\n          label: \"L2\",\n          value: \"L2\"\n        }],\n        lrparams: [{\n          label: \"最大迭代次数\",\n          value: 1000\n        }, {\n          label: \"学习率\",\n          value: 0.01\n        }, {\n          label: \"正则化惩罚系数\",\n          value: 2\n        }]\n      },\n      model_type: \"HeteroLR\",\n      xgboostparams: [{\n        label: \"树数\",\n        value: 100\n      }, {\n        label: \"学习率\",\n        value: 0.01\n      }, {\n        label: \"最小分裂增益\",\n        value: 0.001\n      }, {\n        label: \"特征采样比例\",\n        value: 0.8\n      }, {\n        label: \"正则化系数\",\n        value: 0.5\n      }, {\n        label: \"分箱数\t\",\n        value: 32\n      }, {\n        label: \"可分裂节点最小样本数\t\",\n        value: 2\n      }],\n      tabType: 'study',\n      taskForm: taskForm,\n      StudyTask: []\n    };\n  },\n  methods: {\n    ok: function ok() {\n      this.$Message.info('Clicked ok');\n      this.handleSubmit();\n    },\n    cancel: function cancel() {\n      this.$Message.info('Clicked cancel');\n    },\n    createHttp: function createHttp() {\n      //  alert(this.common.studyTask[6])\n      if (this.common.studyTask[4] == \"HeteroLR\") {\n        var lrparams = {\n          \"name\": this.common.studyTask[0],\n          \"role\": this.common.coderole.role,\n          \"task\": this.common.studyTask[5] == \"train\" ? \"train\" : \"train_cv\",\n          \"data\": {\n            \"start\": this.common.studyTask[2].SampleFetchingtime,\n            \"n\": Number(this.common.studyTask[2].dataperiod),\n            \"match\": this.common.studyTask[2].datatype != \"用户特征早一个周期取数\",\n            \"path_host\": this.common.studyTask[2].hostselectedvalue,\n            \"path_guest\": this.common.studyTask[2].guestselectedvalue\n          },\n          \"modules\": {\n            \"params\": this.common.studyTask[3]\n          },\n          \"algorithms\": {\n            \"HeteroLR\": {\n              \"penalty\": this.common.studyTask[1].lrreguvalue,\n              \"max_iter\": this.common.studyTask[1].lrparams[0].value,\n              \"learning_rate\": this.common.studyTask[1].lrparams[1].value,\n              \"alpha\": this.common.studyTask[1].lrparams[2].value,\n              \"cv_param\": {\n                \"n_splits\": Number(this.common.studyTask[6]),\n                \"need_cv\": this.common.studyTask[5] != \"train\"\n              }\n            }\n          }\n        };\n        console.log(lrparams);\n        return http.post(\"Submit1\", lrparams);\n      } else {\n        var boostparams = {\n          \"name\": this.common.studyTask[0],\n          \"role\": this.common.coderole.role,\n          \"task\": this.common.studyTask[5] == \"train\" ? \"train\" : \"train_cv\",\n          \"data\": {\n            \"start\": this.common.studyTask[2].SampleFetchingtime,\n            \"n\": Number(this.common.studyTask[2].dataperiod),\n            \"match\": this.common.studyTask[2].datatype != \"用户特征早一个周期取数\",\n            \"path_host\": this.common.studyTask[2].hostselectedvalue,\n            \"path_guest\": this.common.studyTask[2].guestselectedvalue\n          },\n          \"modules\": {\n            \"params\": this.common.studyTask[3]\n          },\n          \"algorithms\": {\n            \"HeteroSecureBoost\": {\n              \"num_trees\": this.common.studyTask[1][0].value,\n              \"learning_rate\": this.common.studyTask[1][1].value,\n              \"subsample_feature_rate\": this.common.studyTask[1][3].value,\n              \"n_iter_no_change\": true,\n              \"tol\": this.common.studyTask[1][2].value,\n              \"alpha\": this.common.studyTask[1][4].value,\n              \"tree_param\": {\n                \"min_sample_split\": this.common.studyTask[1][6].value\n              },\n              \"cv_param\": {\n                \"n_splits\": Number(this.common.studyTask[6]),\n                \"need_cv\": this.common.studyTask[5] != \"train\"\n              }\n            }\n          }\n        };\n        console.log(boostparams);\n        return http.post(\"Submit1\", boostparams);\n      } // console.log(params)\n\n    },\n    handleSubmit: function handleSubmit() {\n      console.log(this.common.feshow);\n      this.common.studyTask = [];\n      this.common.studyTask.push(this.projectname, this.taskForm.model_type == 'Hetero Secureboost' ? this.xgboostparams : this.lrparampapa, this.common.safeintersection, this.common.feshow, this.HeteroLR = this.taskForm.model_type == 'Hetero Secureboost' ? \"HeteroSecureBoost\" : \"HeteroLR\", this.taskparamselected, this.taskparamselected == \"CV\" ? this.taskparamselectedCV : \"\");\n      console.log(this.common.studyTask); // console.log( this.common.studyTask[1].lrreguvalue)\n\n      Promise.all([this.createHttp()]).then(function (resList) {\n        console.log(resList);\n        resList.forEach(function (element) {\n          console.log(element);\n\n          if (element.status == 0) {\n            // window.open(element.result.board_url);\n            console.log(element.result.board_url);\n          }\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["StudyTask.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"router-body study-task-page\">\n    <div class=\"router-body-inner\">\n      <div style=\"position: relative\">\n      \n        <Form ref=\"taskForm\" :model=\"taskForm\" :label-width=\"100\" style=\"width: 400px;\">\n            <FormItem label=\"任务名称\" prop=\"pn\">\n              <Input v-model=\"projectname\" placeholder=\"请输入任务的名称\"></Input>\n            </FormItem>\n \n            <FormItem v-show=\"tabType === 'study'\" label=\"选择算法\" prop=\"model_type\">\n              <RadioGroup v-model=\"taskForm.model_type\" vertical>\n                <Radio label=\"Hetero Logistic Regression\"></Radio>\n                <Radio label=\"Hetero Secureboost\"></Radio>\n              </RadioGroup>\n            </FormItem>\n\n            <div class=\"stmodelparams\" v-if=\"taskForm.model_type=='Hetero Logistic Regression'\">\n                  <div class=\"modelparam\" >\n                      <FormItem label=\"训练模式\" >\n                          <Select v-model=\"taskparamselected\">\n                            <Option v-for=\"item in taskparam\" :value=\"item.value\" :key=\"item.label\">{{ item.label }}</Option>\n                          </Select>\n                          <Select v-model=\"taskparamselectedCV\" v-if=\"taskparamselected=='CV'\">\n                            <Option v-for=\"item in taskparamCV\" :value=\"item.value\" :key=\"item.label\">{{ item.label }}</Option>\n                          </Select>\n                      </FormItem>\n                      <FormItem label=\"正则化类型\" >\n                          <Select v-model=\"lrparampapa.lrreguvalue\">\n                            <Option v-for=\"item in lrparampapa.lrregu\" :value=\"item.value\" :key=\"item.label\">{{ item.label }}</Option>\n                          </Select>\n                      </FormItem>\n                  </div>\n                  <div class=\"modelparam\"  v-for=\"item in lrparampapa.lrparams\" :key=\"item.label\">\n                      <FormItem :label=\"item.label\" :key=\"item.label\">\n                            <Input v-model=\"item.value\" clearable style=\"width: 200px\"></Input>                      \n                      </FormItem>\t\n                  </div>\n                  \n            </div>\n            <div class=\"stmodelparams\" v-if=\"taskForm.model_type=='Hetero Secureboost'\">\n                  <FormItem label=\"训练模式\" >\n                      <Select v-model=\"taskparamselected\">\n                        <Option v-for=\"item in taskparam\" :value=\"item.value\" :key=\"item.label\">{{ item.label }}</Option>\n                      </Select>\n                      <Select v-model=\"taskparamselectedCV\" v-if=\"taskparamselected=='CV'\">\n                            <Option v-for=\"item in taskparamCV\" :value=\"item.value\" :key=\"item.label\">{{ item.label }}</Option>\n                      </Select>\n                  </FormItem>\n                  <div class=\"modelparam\"  v-for=\"item in xgboostparams\" :key=\"item.label\">\n                      <FormItem :label=\"item.label\" >\n                            <Input v-model=\"item.value\" clearable style=\"width: 200px\"></Input>                      \n                      </FormItem>\t\n                  </div>            \n            </div>\n            <FormItem label=\"\">\n                <Button type=\"primary\" :loading=\"btnLoading\" @click=\"modal1 = true\">提交{{tabType === 'study' ? '训练' : '预测'}}任务</Button>\n                <Modal\n                  v-model=\"modal1\"\n                  title=\"您确定要提交训练任务吗？\"\n                  @on-ok=\"ok\"\n                  @on-cancel=\"cancel\">\n                  <p>点击取消按钮就不会提交了</p>\n                  <p>点击确定按钮就会提交了</p>\n                </Modal>\n            </FormItem>\n        </Form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport http from '@/utils/http';\nimport { taskForm } from '@/store/module/studyTask';\nexport default {\n  name: 'StudyTask',\n  data () {\n    return {\n      modal1: false,\n      projectname:\"\",\n      btnLoading: false,\n      taskparamselectedCV:\"5\",\n      taskparamCV:[\n        {label:\"2\",value:\"2\"},\n        {label:\"3\",value:\"3\"},\n        {label:\"4\",value:\"4\"},\n        {label:\"5\",value:\"5\"},\n      ],\n      taskparamselected:\"train\",\n      taskparam:[\n        {label:\"train\",value:\"train\"},\n        {label:\"CV\",value:\"CV\"},\n      ],\n      lrparampapa:{\n        lrreguvalue:\"L1\",\n        lrregu:[\n          {label:\"L1\",value:\"L1\"},\n          {label:\"L2\",value:\"L2\"},\n        ],\n        lrparams:[   \n          {label:\"最大迭代次数\",value:1000},\n          {label:\"学习率\",value:0.01},\n          {label:\"正则化惩罚系数\",value:2},\n        ]\n\n      },\n      model_type:\"HeteroLR\",\n      xgboostparams:[\n        {label:\"树数\",value:100},\n        {label:\"学习率\",value:0.01},\n        {label:\"最小分裂增益\",value:0.001},\n        {label:\"特征采样比例\",value:0.8},\n        {label:\"正则化系数\",value:0.5},\n        {label:\"分箱数\t\",value:32},\n        {label:\"可分裂节点最小样本数\t\",value:2},\n      ],\n      tabType: 'study',\n\n      taskForm,\n      \n      StudyTask:[]\n    };\n  },\n  methods: {\n      ok () {\n          this.$Message.info('Clicked ok');\n          this.handleSubmit()\n      },\n      cancel () {\n          this.$Message.info('Clicked cancel');\n      },\n     createHttp () {  \n      //  alert(this.common.studyTask[6])\n          if (this.common.studyTask[4]==\"HeteroLR\"){\n            \n              var lrparams={\n                  \"name\": this.common.studyTask[0], \n                  \"role\": this.common.coderole.role, \n                  \"task\": this.common.studyTask[5]==\"train\"?\"train\":\"train_cv\", \n                  \"data\": {\n                    \"start\": this.common.studyTask[2].SampleFetchingtime, \n                    \"n\":  Number(this.common.studyTask[2].dataperiod), \n                    \"match\": this.common.studyTask[2].datatype!=\"用户特征早一个周期取数\", \n                    \"path_host\": this.common.studyTask[2].hostselectedvalue, \n                    \"path_guest\": this.common.studyTask[2].guestselectedvalue\n                  }, \n                  \"modules\": {\n                    \"params\":this.common.studyTask[3]\n                  },    \n                  \"algorithms\":{\n                    \"HeteroLR\": {\n                      \"penalty\": this.common.studyTask[1].lrreguvalue,\n                      \"max_iter\":this.common.studyTask[1].lrparams[0].value,\n                      \"learning_rate\":this.common.studyTask[1].lrparams[1].value,\n                      \"alpha\":this.common.studyTask[1].lrparams[2].value,\n                      \"cv_param\": {\n                          \"n_splits\": Number(this.common.studyTask[6]),\n                          \"need_cv\":  this.common.studyTask[5]!=\"train\"\n                      }\n                    }\n                  }\n              }\n              console.log(lrparams)\n              return   http.post(\"Submit1\",lrparams)\n          }else{\n              var boostparams={\n                  \"name\": this.common.studyTask[0], \n                  \"role\": this.common.coderole.role, \n                  \"task\": this.common.studyTask[5]==\"train\"?\"train\":\"train_cv\", \n                  \"data\": {\n                    \"start\": this.common.studyTask[2].SampleFetchingtime, \n                    \"n\":  Number(this.common.studyTask[2].dataperiod), \n                    \"match\": this.common.studyTask[2].datatype!=\"用户特征早一个周期取数\", \n                    \"path_host\": this.common.studyTask[2].hostselectedvalue, \n                    \"path_guest\": this.common.studyTask[2].guestselectedvalue\n                  }, \n                  \"modules\": {\n                    \"params\":this.common.studyTask[3]\n                  },    \n                  \"algorithms\":{\n                      \"HeteroSecureBoost\": {\n                            \"num_trees\":  this.common.studyTask[1][0].value,\n                            \"learning_rate\": this.common.studyTask[1][1].value,\n                            \"subsample_feature_rate\":this.common.studyTask[1][3].value,\n                            \"n_iter_no_change\":true,\n                            \"tol\":this.common.studyTask[1][2].value, \n                            \"alpha\": this.common.studyTask[1][4].value,\n                            \"tree_param\": {\n                                \"min_sample_split\": this.common.studyTask[1][6].value,\n                            },\n                            \"cv_param\": {\n                                \"n_splits\": Number(this.common.studyTask[6]),\n                                \"need_cv\":  this.common.studyTask[5]!=\"train\"\n                            }\n                      }\n                  }\n              }\n              console.log(boostparams)\n              return   http.post(\"Submit1\",boostparams)\n          }\n\n\n          // console.log(params)\n\t\t\t    \n\t\t},\n    handleSubmit () {\n      console.log( this.common.feshow)\n      this.common.studyTask=[]\n      this.common.studyTask.push(\n          this.projectname,\n          this.taskForm.model_type=='Hetero Secureboost'?this.xgboostparams:this.lrparampapa,\n          this.common.safeintersection,\n          this.common.feshow,\n          this.HeteroLR=this.taskForm.model_type=='Hetero Secureboost'?\"HeteroSecureBoost\":\"HeteroLR\",\n          this.taskparamselected,\n          this.taskparamselected==\"CV\"?this.taskparamselectedCV:\"\"\n      )\n      console.log(this.common.studyTask)\n      // console.log( this.common.studyTask[1].lrreguvalue)\n      Promise.all([ this.createHttp()]).then(resList => {\n            console.log(resList)\n            resList.forEach(element => {\n                console.log(element)\n                if(element.status==0){\n                    // window.open(element.result.board_url);\n                    console.log(element.result.board_url)\n                }          \n            });\n      });\n      \n    },\n \n  },\n\n};\n\n</script>\n\n<style lang=\"less\" scoped>\n.study-task-page {\n  .ivu-tabs-bar {\n    margin-bottom: 30px;\n  }\n}\n.stmodelparams{\n  position: absolute;\n  top: 0px;\n  left: 500px;\n}\n</style>\n"],"sourceRoot":"src/views/studyTask"}]}