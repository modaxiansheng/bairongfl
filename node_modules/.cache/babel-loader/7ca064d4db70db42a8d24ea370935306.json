{"remainingRequest":"E:\\bairongfl\\node_modules\\babel-loader\\lib\\index.js!E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\bairongfl\\src\\views\\predictTask\\PredictTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\bairongfl\\src\\views\\predictTask\\PredictTask.vue","mtime":1592460878502},{"path":"E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport http from '@/utils/http';\nimport { taskForm } from '@/store/module/studyTask';\nexport default {\n  name: 'StudyTask',\n  data: function data() {\n    return {\n      modelInfo: {\n        predictprojectname: \"\",\n        SampleFetchingtime: \"\",\n        dataperiod: \"\",\n        datatype: \"\",\n        hostselectedvalue: \"\",\n        guestselectedvalue: \"\",\n        selectedmodel: \"\",\n        modelInfos: []\n      },\n      tabType: 'study',\n      hostData: [],\n      guestData: [],\n      btnLoading: false,\n      taskForm: taskForm,\n      taskRule: {},\n      baseRule: {\n        predictprojectname: [{\n          required: true,\n          message: '请输入项目的名称',\n          trigger: 'blur'\n        }],\n        hostselectedvalue: [{\n          required: true,\n          message: '请选择Host方数据',\n          trigger: 'change'\n        }],\n        guestselectedvalue: [{\n          required: true,\n          message: '请选择Guest方数据',\n          trigger: 'change'\n        }],\n        selectedmodel: [{\n          required: true,\n          message: '请选择model',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  methods: {\n    handleSubmit: function handleSubmit() {\n      console.log(this.modelInfo);\n      Promise.all([this.createHttp()]).then(function (resList) {\n        console.log(resList);\n        resList.forEach(function (element) {\n          console.log(element);\n\n          if (element.status == 0) {\n            // window.open(element.result.board_url);\n            console.log(element.result.board_url);\n          }\n        });\n      });\n    },\n    createHttp: function createHttp() {\n      var submit_info = {\n        'name': this.modelInfo.predictprojectname,\n        'role': this.common.coderole.role,\n        'task': 'predict',\n        'data': {\n          'start': this.modelInfo.SampleFetchingtime,\n          'n': Number(this.modelInfo.dataperiod),\n          'match': this.modelInfo.datatype != \"用户特征早一个周期取数\",\n          'path_host': this.modelInfo.hostselectedvalue,\n          'path_guest': this.modelInfo.guestselectedvalue\n        },\n        \"model_id\": \"arbiter-10000#guest-9999#host-10000#model\",\n        \"model_version\": this.modelInfo.selectedmodel\n      };\n      console.log(submit_info);\n      return http.post(\"Submit\", submit_info);\n    },\n    getdata: function getdata() {\n      var _this = this;\n\n      Promise.all([http.get(\"getDatainfo\")]).then(function (resList) {\n        resList.forEach(function (item) {\n          //  console.log(item)\n          item.forEach(function (itemson) {\n            //  console.log(itemson.data_attribution)\n            if (itemson.data_attribution == 0) {\n              _this.hostData.push(itemson);\n            } else if (itemson.data_attribution == 1) {\n              _this.guestData.push(itemson);\n            }\n          });\n        });\n      });\n      Promise.all([http.get(\"getModelinfo\")]).then(function (resList) {\n        resList.forEach(function (item) {\n          //  console.log(item[0].model_version)\n          _this.modelInfo.modelInfos = item[0].model_version; //  console.log( this.modelInfo.modelInfos)\n\n          for (var item in _this.modelInfo.modelInfos) {// console.log(item)\n            // console.log(this.modelInfo.modelInfos[item])\n          }\n        });\n      }); // for(var item in this.modelInfo.modelInfos){\n      //     console.log(item)\n      // console.log(this.modelInfo.modelInfos.length)\n      // }\n    }\n  },\n  mounted: function mounted() {\n    this.getdata();\n  }\n};",{"version":3,"sources":["PredictTask.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"router-body study-task-page\">\n    <div class=\"router-body-inner\">\n      <div style=\"position: relative\">\n      \n        <Form ref=\"taskForm\" :model=\"taskForm\"  :label-width=\"100\" style=\"width: 400px;\">\n          <FormItem label=\"项目名称\" prop=\"predictprojectname\">\n              <Input v-model=\"modelInfo.predictprojectname\" placeholder=\"请输入项目的名称\"></Input>\n          </FormItem>\n          <FormItem label=\"取数时间\" prop=\"SampleFetchingtime\">\n              <Input v-model=\"modelInfo.SampleFetchingtime\" placeholder=\"请输入数据的取数时间\"></Input>\n          </FormItem>\n          <FormItem label=\"取数周期\" prop=\"dataperiod\">\n              <Input v-model=\"modelInfo.dataperiod\" placeholder=\"请输入数据的取数周期\"></Input>\n          </FormItem>\n          <FormItem label=\"取数规则\" prop=\"datatype\">\n              <Select v-model=\"modelInfo.datatype\" placeholder=\"请输入数据的取数取数规则\">\n                  <Option value=\"用户特征早一个周期取数\">用户特征早一个周期取数</Option>\n                  <Option value=\"样本标签和用户特征同一个周期取数\">样本标签和用户特征同一个周期取数</Option>\n              </Select>\n          </FormItem>\n          <FormItem label=\"Host方数据\" prop=\"hostselectedvalue\">\n            <Select v-model=\"modelInfo.hostselectedvalue\">\n              <Option v-for=\"item in hostData\" :value=\"item.data_path\" :key=\"item.data_id\">数据ID:{{item.data_id}}名称:{{ item.data_name }},类型:{{item.data_type==0?\"用户特征\":\"样本标签\"}}</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"Guest方数据\" prop=\"guestselectedvalue\">\n            <Select v-model=\"modelInfo.guestselectedvalue\">\n              <Option v-for=\"item in guestData\" :value=\"item.data_path\" :key=\"item.data_id\">数据ID:{{item.data_id}}名称:{{ item.data_name }},类型:{{item.data_type==0?\"用户特征\":\"样本标签\"}}</Option>\n            </Select>\n          </FormItem>\n           <FormItem label=\"选择模型\" prop=\"selectedmodel\">\n              <Select v-model=\"modelInfo.selectedmodel\">\n                <Option v-for=\"(item,itemindex) in modelInfo.modelInfos\" :value=\"item\" :key=\"itemindex\">{{ item }}</Option>\n              </Select>\n            </FormItem>\n          <FormItem label=\"\">\n            <Button type=\"primary\"  @click=\"handleSubmit\">提交预测任务</Button>\n          </FormItem>\n        </Form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport http from '@/utils/http';\nimport { taskForm } from '@/store/module/studyTask';\n\nexport default {\n  name: 'StudyTask',\n  data () {\n    return {\n      modelInfo:{\n        predictprojectname:\"\",\n        SampleFetchingtime:\"\",\n        dataperiod:\"\",\n        datatype:\"\",\n        hostselectedvalue:\"\",\n        guestselectedvalue:\"\",\n        selectedmodel:\"\",\n        modelInfos:[]\n      },\n      tabType: 'study',\n      hostData: [\n      ],\n      guestData: [],\n      btnLoading: false,\n      taskForm,\n      taskRule: {},\n      baseRule: {\n        predictprojectname: [\n          { required: true, message: '请输入项目的名称', trigger: 'blur' }\n        ],\n        hostselectedvalue: [\n          { required: true, message: '请选择Host方数据', trigger: 'change' }\n        ],\n        guestselectedvalue: [\n          { required: true, message: '请选择Guest方数据', trigger: 'change' }\n        ],\n        selectedmodel:[\n          { required: true, message: '请选择model', trigger: 'change' }\n        ],\n      },\n    };\n  },\n  methods: {\n    handleSubmit () {\n        console.log(this.modelInfo)\n        Promise.all([ this.createHttp()]).then(resList => {\n                console.log(resList)\n                resList.forEach(element => {\n                    console.log(element)\n                    if(element.status==0){\n                        // window.open(element.result.board_url);\n                        console.log(element.result.board_url)\n                    }          \n                });\n            });\n    },\n    createHttp () {\n      var submit_info = {\n          'name' : this.modelInfo.predictprojectname,\n          'role':this.common.coderole.role,\n          'task':'predict',\n          'data':{\n              'start':this.modelInfo.SampleFetchingtime,\n              'n':Number(this.modelInfo.dataperiod),\n              'match':this.modelInfo.datatype!=\"用户特征早一个周期取数\",\n              'path_host':this.modelInfo.hostselectedvalue,\n              'path_guest':this.modelInfo.guestselectedvalue,\n          },\n          \"model_id\": \"arbiter-10000#guest-9999#host-10000#model\",\n          \"model_version\": this.modelInfo.selectedmodel\n      }\n      console.log(submit_info)\n      return http.post(\"Submit\",submit_info)\n    },\n    getdata(){\n        Promise.all([http.get(\"getDatainfo\")]).then(resList => {\n            resList.forEach((item)=>{\n              //  console.log(item)\n               item.forEach((itemson)=>{\n                //  console.log(itemson.data_attribution)\n                 if(itemson.data_attribution==0){\n                   this.hostData.push(itemson)\n                 }else if(itemson.data_attribution==1){\n                   this.guestData.push(itemson)\n                 }\n               })\n               \n            })\n        });\n         Promise.all([http.get(\"getModelinfo\")]).then(resList => {\n            resList.forEach((item)=>{\n              //  console.log(item[0].model_version)\n               this.modelInfo.modelInfos=item[0].model_version\n              //  console.log( this.modelInfo.modelInfos)\n                 for(var item in this.modelInfo.modelInfos){\n                    // console.log(item)\n                    // console.log(this.modelInfo.modelInfos[item])\n                    \n                }\n            })\n        });\n        // for(var item in this.modelInfo.modelInfos){\n        //     console.log(item)\n            // console.log(this.modelInfo.modelInfos.length)\n            \n        // }\n    },\n  },\n  mounted(){\n    this.getdata()\n  }\n};\n\n</script>\n\n<style lang=\"less\" scoped>\n.study-task-page {\n  .ivu-tabs-bar {\n    margin-bottom: 30px;\n  }\n}\n.stmodelparams{\n  position: absolute;\n  top: 0px;\n  left: 500px;\n}\n</style>\n"],"sourceRoot":"src/views/predictTask"}]}