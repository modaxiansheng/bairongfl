{"remainingRequest":"E:\\bairongfl\\node_modules\\thread-loader\\dist\\cjs.js!E:\\bairongfl\\node_modules\\babel-loader\\lib\\index.js!E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\bairongfl\\src\\views\\dataManage\\dataRegistration\\DataRegistration.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\bairongfl\\src\\views\\dataManage\\dataRegistration\\DataRegistration.vue","mtime":1592460572449},{"path":"E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bairongfl\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport http from '@/utils/http';\nexport default {\n  data: function data() {\n    return {\n      dataregistration: {\n        dataname: '',\n        datatype: '',\n        datapath: ''\n      },\n      ruleValidate: {\n        dataname: [{\n          required: true,\n          message: '数据名称不能为空',\n          trigger: 'blur'\n        }],\n        datatype: [{\n          required: true,\n          message: '数据类型不能为空',\n          trigger: 'change'\n        }],\n        datapath: [{\n          required: true,\n          message: '数据路径不能为空',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    createHttp: function createHttp() {\n      var datatype = 0;\n\n      if (this.dataregistration.datatype == \"用户特征\") {\n        datatype = 0;\n      } else {\n        datatype = 1;\n      }\n\n      return http.get('insertDatainfo?data_name=' + this.dataregistration.dataname + '&data_type=' + datatype + '&data_attribution=' + this.common.coderole.rolecode + '&data_path=' + this.dataregistration.datapath);\n    },\n    getdata: function getdata() {\n      Promise.all([this.createHttp()]).then(function (resList) {// console.log(resList)\n      });\n    },\n    handleSubmit: function handleSubmit(dataname) {\n      var _this = this;\n\n      this.$refs[dataname].validate(function (valid) {\n        if (valid) {\n          _this.$Message.success('Success!');\n\n          console.log(_this.dataregistration);\n\n          _this.getdata(); // http.get('getDatainfo')\n\n\n          _this.$router.push({\n            path: '/dataManage'\n          });\n\n          location.reload(); // this.$router.go(0)\n        } else {\n          _this.$Message.error('Fail!');\n        }\n      });\n    },\n    handleReset: function handleReset(dataname) {\n      this.$refs[dataname].resetFields();\n    }\n  }\n};",{"version":3,"sources":["DataRegistration.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,IAAA,MAAA,cAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,gBAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAMA,MAAA,YAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAJA;AAOA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAPA;AANA,KAAA;AAkBA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,QAAA,GAAA,CAAA;;AACA,UAAA,KAAA,gBAAA,CAAA,QAAA,IAAA,MAAA,EAAA;AACA,QAAA,QAAA,GAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA,GAAA,CAAA;AACA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,8BAAA,KAAA,gBAAA,CAAA,QAAA,GAAA,aAAA,GAAA,QAAA,GAAA,oBAAA,GAAA,KAAA,MAAA,CAAA,QAAA,CAAA,QAAA,GAAA,aAAA,GAAA,KAAA,gBAAA,CAAA,QAAA,CAAA;AACA,KATA;AAUA,IAAA,OAVA,qBAUA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA,KAAA,UAAA,EAAA,CAAA,EAAA,IAAA,CAAA,UAAA,OAAA,EAAA,CACA;AACA,OAFA;AAGA,KAdA;AAgBA,IAAA,YAhBA,wBAgBA,QAhBA,EAgBA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,gBAAA;;AACA,UAAA,KAAA,CAAA,OAAA,GAHA,CAIA;;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;;AACA,UAAA,QAAA,CAAA,MAAA,GANA,CAOA;AACA,SARA,MAQA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,OAAA;AACA;AACA,OAZA;AAaA,KA9BA;AA+BA,IAAA,WA/BA,uBA+BA,QA/BA,EA+BA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,WAAA;AACA;AAjCA;AArBA,CAAA","sourcesContent":["<template>\n    <Form ref=\"dataregistration\" :model=\"dataregistration\" :rules=\"ruleValidate\" :label-width=\"80\">\n        <FormItem label=\"数据名称\" prop=\"dataname\">\n            <Input v-model=\"dataregistration.dataname\" placeholder=\"请输入数据的名称\"></Input>\n        </FormItem>\n        <FormItem label=\"数据类型\" prop=\"datatype\">\n            <Select v-model=\"dataregistration.datatype\" placeholder=\"Select your datatype\">\n                <Option value=\"用户特征\">用户特征</Option>\n                <Option value=\"样本标签\">样本标签</Option>\n            </Select>\n        </FormItem>\n\n       \n        <FormItem label=\"文件路径\" prop=\"datapath\">\n            <Input v-model=\"dataregistration.datapath\"  placeholder=\"请输入您的数据路径\"></Input>\n        </FormItem>\n        <FormItem>\n            <Button type=\"primary\" @click=\"handleSubmit('dataregistration')\">Submit</Button>\n            <Button @click=\"handleReset('dataregistration')\" style=\"margin-left: 8px\">Reset</Button>\n        </FormItem>\n    </Form>\n</template>\n<script>\nimport http from '@/utils/http';\n    export default {\n        data () {\n            return {\n                dataregistration: {\n                    dataname: '',\n                    datatype: '',\n                    datapath: ''\n                },\n                ruleValidate: {\n                    dataname: [\n                        { required: true, message: '数据名称不能为空', trigger: 'blur' }\n                    ],\n                    datatype: [\n                        { required: true, message: '数据类型不能为空', trigger: 'change' }\n                    ],\n                    datapath: [\n                        { required: true, message: '数据路径不能为空', trigger: 'blur' },\n                    ]\n                }\n            }\n        },\n        methods: {\n            createHttp () {  \n                var datatype=0   \n                if(this.dataregistration.datatype==\"用户特征\"){\n                    datatype=0\n                }else{\n                    datatype=1\n                }    \n\t\t\t    return  http.get('insertDatainfo?data_name='+this.dataregistration.dataname+'&data_type='+ datatype+'&data_attribution='+this.common.coderole.rolecode+'&data_path='+this.dataregistration.datapath);\n\t\t    },\n            getdata(){\n                Promise.all([this.createHttp()]).then(resList => {\n                    // console.log(resList)\n                });\n            },\n                \n            handleSubmit (dataname) {\n                this.$refs[dataname].validate((valid) => {\n                    if (valid) {\n                        this.$Message.success('Success!');\n                        console.log(this.dataregistration)\n                        this.getdata()\n                        // http.get('getDatainfo')\n                        this.$router.push({path:'/dataManage'}) \n                        location.reload()\n                        // this.$router.go(0)\n                    } else {\n                        this.$Message.error('Fail!');\n                    }\n                })\n            },\n            handleReset (dataname) {\n                this.$refs[dataname].resetFields();\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/views/dataManage/dataRegistration"}]}