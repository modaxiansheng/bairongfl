<template>
  <Menu
    mode='vertical'
    width="auto"
    :class="menuitemClasses"
    :theme="theme"
    :active-name="activeName"
    :open-names="openNames"
    @on-select="handleMenuClick"
    >
    <template v-for="(data, index) in menuList">
      <Submenu :name="data.name" v-if="data.children && data.children.length > 0">
        <template slot="title">
          <NavIcon :data="data"></NavIcon>
          <span>{{data.title}}</span>
        </template>
        <template v-for="(child, idx) in data.children">
          <MenuItem :name="child.name" :key="child.name">
            <NavIcon :data="child"></NavIcon>
            <span>{{child.title}}</span>
          </MenuItem>
        </template>
      </Submenu>
      <MenuItem :name="data.name"  v-else>
        <NavIcon :data="data"></NavIcon>
        <span>{{data.title}}</span>
        <!-- <router-link :to="data.url">{{data.title}}</router-link> -->
      </MenuItem>
    </template>
  </Menu>
</template>

<script>
import NavIcon from './NavIcon';

export default {
  name: 'ExpandMenu',
  components: {
    NavIcon
  },
  data () {
    return {
    };
  },
  props: {
    menuList: {
      type: [Array]
    },
    theme: {
      type: String,
      default: 'dark'
    },
    openNames: {
      type: Array
    },
    activeName: {
      type: String
    },
    childrenKey: {
      type: String,
      default: 'children'
    }
  },
  computed: {
    menuitemClasses () {
      return [
        'nav-expand-menu',
        this.isCollapsed ? 'collapsed-menu' : ''
      ];
    }
  },
  methods: {
    handleMenuClick (name) {
      this.$emit('on-select', name);
    }
  }
};
</script>

<style lang="less" scoped>

</style>
