<template>
  <Submenu :name="data.name" v-if="isChildren">
    <template slot="title">
      <NavIcon :data="data"></NavIcon>
      <span>{{data.title}}</span>
    </template>
    <ExpandMenu
      v-for="(item, i) in data.children"
      :key="i"
      :data="item"
      :children-key="childrenKey" />
  </Submenu>
  <MenuItem :name="data.name"  v-else>
    <NavIcon :data="data"></NavIcon>
    <span>{{data.title}}</span>
    <!-- <router-link :to="data.url">{{data.title}}</router-link> -->
  </MenuItem>
</template>

<script>
import NavIcon from './NavIcon';

export default {
  name: 'ExpandMenu',
  components: {
    NavIcon
  },
  data () {
    return {
    };
  },
  props: {
    data: {
      type: [Object]
    },
    theme: {
      type: String,
      default: 'dark'
    },
    childrenKey: {
      type: String,
      default: 'children'
    }
  },
  computed: {
    isChildren () {
      return this.data[this.childrenKey] && this.data[this.childrenKey].length;
    }
  }
};
</script>

<style lang="less" scoped>

</style>
